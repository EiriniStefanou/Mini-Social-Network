<div class="mx-2">
    <% if (post.Reactions.length > 0 ) { %>
     <% hasLike = false %>
     <% post.Reactions.forEach(reaction => { %>
       <% if (reaction.userId === user.id) { %>
         <% hasLike = true %>
         <form action="/reactions/unlike/<%= post.id %>/<%= page %>" method="POST">
           <button type="submit" class="cursor-pointer outline-none focus:outline-none border-none">
             <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-900 hover:text-blue-600 duration-300" fill="#3B82F6" viewBox="0 0 24 24" stroke="currentColor">
               <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5" />
             </svg>
           </button>
         </form>
       <% }})} else { %>
     <form action="/reactions/like/<%= post.id %>/<%= page %>" method="POST">
       <button type="submit" class="cursor-pointer outline-none focus:outline-none border-none">
         <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-black hover:text-blue-600 duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
           <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5" />
         </svg>
       </button>
     </form>
    <% } %>

    <% if (post.Reactions.length > 0 ) { %>
       <% noLikes = [] %>
       <% post.Reactions.map(reaction => { %>
         <% if (reaction.userId !== user.id) %>
           <% noLikes.push(reaction.userId) %>
       <% }) %>

         <% if(noLikes.length > 0 && !hasLike) {%>
           <form action="/reactions/like/<%= post.id %>/<%= page %>" method="POST">
             <button type="submit" class="cursor-pointer outline-none focus:outline-none border-none">
               <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-black hover:text-blue-600 duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5" />
               </svg>
             </button>
           </form>
   <% }} %>
 </div> 